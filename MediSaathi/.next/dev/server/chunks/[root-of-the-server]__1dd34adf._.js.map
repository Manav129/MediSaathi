{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/MediSaathi/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\n// Database Types\r\nexport type Database = {\r\n  public: {\r\n    Tables: {\r\n      users: {\r\n        Row: {\r\n          id: string\r\n          email: string\r\n          full_name: string | null\r\n          avatar_url: string | null\r\n          user_type: 'patient' | 'doctor' | 'hospital'\r\n          phone: string | null\r\n          date_of_birth: string | null\r\n          gender: string | null\r\n          address: string | null\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          email: string\r\n          full_name?: string | null\r\n          avatar_url?: string | null\r\n          user_type: 'patient' | 'doctor' | 'hospital'\r\n          phone?: string | null\r\n          date_of_birth?: string | null\r\n          gender?: string | null\r\n          address?: string | null\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          email?: string\r\n          full_name?: string | null\r\n          avatar_url?: string | null\r\n          user_type?: 'patient' | 'doctor' | 'hospital'\r\n          phone?: string | null\r\n          date_of_birth?: string | null\r\n          gender?: string | null\r\n          address?: string | null\r\n          updated_at?: string\r\n        }\r\n      }\r\n      family_members: {\r\n        Row: {\r\n          id: string\r\n          user_id: string\r\n          full_name: string\r\n          relationship: string\r\n          date_of_birth: string\r\n          gender: string\r\n          phone: string | null\r\n          emergency_contact: boolean\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          user_id: string\r\n          full_name: string\r\n          relationship: string\r\n          date_of_birth: string\r\n          gender: string\r\n          phone?: string | null\r\n          emergency_contact?: boolean\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          user_id?: string\r\n          full_name?: string\r\n          relationship?: string\r\n          date_of_birth?: string\r\n          gender?: string\r\n          phone?: string | null\r\n          emergency_contact?: boolean\r\n          updated_at?: string\r\n        }\r\n      }\r\n      doctors: {\r\n        Row: {\r\n          id: string\r\n          user_id: string\r\n          specialty: string\r\n          license_number: string\r\n          experience_years: number\r\n          education: string | null\r\n          hospital_id: string | null\r\n          consultation_fee: number | null\r\n          available_days: string[]\r\n          available_hours: string\r\n          bio: string | null\r\n          rating: number\r\n          total_patients: number\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          user_id: string\r\n          specialty: string\r\n          license_number: string\r\n          experience_years: number\r\n          education?: string | null\r\n          hospital_id?: string | null\r\n          consultation_fee?: number | null\r\n          available_days?: string[]\r\n          available_hours?: string\r\n          bio?: string | null\r\n          rating?: number\r\n          total_patients?: number\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          user_id?: string\r\n          specialty?: string\r\n          license_number?: string\r\n          experience_years?: number\r\n          education?: string | null\r\n          hospital_id?: string | null\r\n          consultation_fee?: number | null\r\n          available_days?: string[]\r\n          available_hours?: string\r\n          bio?: string | null\r\n          rating?: number\r\n          total_patients?: number\r\n          updated_at?: string\r\n        }\r\n      }\r\n      hospitals: {\r\n        Row: {\r\n          id: string\r\n          user_id: string\r\n          name: string\r\n          address: string\r\n          phone: string\r\n          email: string\r\n          website: string | null\r\n          license_number: string\r\n          total_beds: number\r\n          available_beds: number\r\n          departments: string[]\r\n          services: string[]\r\n          emergency_services: boolean\r\n          rating: number\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          user_id: string\r\n          name: string\r\n          address: string\r\n          phone: string\r\n          email: string\r\n          website?: string | null\r\n          license_number: string\r\n          total_beds: number\r\n          available_beds: number\r\n          departments: string[]\r\n          services: string[]\r\n          emergency_services?: boolean\r\n          rating?: number\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          user_id?: string\r\n          name?: string\r\n          address?: string\r\n          phone?: string\r\n          email?: string\r\n          website?: string | null\r\n          license_number?: string\r\n          total_beds?: number\r\n          available_beds?: number\r\n          departments?: string[]\r\n          services?: string[]\r\n          emergency_services?: boolean\r\n          rating?: number\r\n          updated_at?: string\r\n        }\r\n      }\r\n      health_records: {\r\n        Row: {\r\n          id: string\r\n          user_id: string\r\n          family_member_id: string | null\r\n          title: string\r\n          type: 'lab_report' | 'prescription' | 'xray' | 'scan' | 'consultation' | 'other'\r\n          file_url: string | null\r\n          file_type: string | null\r\n          content: string | null\r\n          doctor_id: string | null\r\n          hospital_id: string | null\r\n          date_recorded: string\r\n          ai_summary: string | null\r\n          tags: string[]\r\n          is_critical: boolean\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          user_id: string\r\n          family_member_id?: string | null\r\n          title: string\r\n          type: 'lab_report' | 'prescription' | 'xray' | 'scan' | 'consultation' | 'other'\r\n          file_url?: string | null\r\n          file_type?: string | null\r\n          content?: string | null\r\n          doctor_id?: string | null\r\n          hospital_id?: string | null\r\n          date_recorded: string\r\n          ai_summary?: string | null\r\n          tags?: string[]\r\n          is_critical?: boolean\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          user_id?: string\r\n          family_member_id?: string | null\r\n          title?: string\r\n          type?: 'lab_report' | 'prescription' | 'xray' | 'scan' | 'consultation' | 'other'\r\n          file_url?: string | null\r\n          file_type?: string | null\r\n          content?: string | null\r\n          doctor_id?: string | null\r\n          hospital_id?: string | null\r\n          date_recorded?: string\r\n          ai_summary?: string | null\r\n          tags?: string[]\r\n          is_critical?: boolean\r\n          updated_at?: string\r\n        }\r\n      }\r\n      vital_signs: {\r\n        Row: {\r\n          id: string\r\n          user_id: string\r\n          family_member_id: string | null\r\n          type: 'blood_pressure' | 'heart_rate' | 'temperature' | 'weight' | 'height' | 'blood_sugar' | 'oxygen_saturation'\r\n          value: string\r\n          unit: string\r\n          notes: string | null\r\n          recorded_at: string\r\n          created_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          user_id: string\r\n          family_member_id?: string | null\r\n          type: 'blood_pressure' | 'heart_rate' | 'temperature' | 'weight' | 'height' | 'blood_sugar' | 'oxygen_saturation'\r\n          value: string\r\n          unit: string\r\n          notes?: string | null\r\n          recorded_at: string\r\n          created_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          user_id?: string\r\n          family_member_id?: string | null\r\n          type?: 'blood_pressure' | 'heart_rate' | 'temperature' | 'weight' | 'height' | 'blood_sugar' | 'oxygen_saturation'\r\n          value?: string\r\n          unit?: string\r\n          notes?: string | null\r\n          recorded_at?: string\r\n        }\r\n      }\r\n      appointments: {\r\n        Row: {\r\n          id: string\r\n          patient_id: string\r\n          doctor_id: string\r\n          hospital_id: string | null\r\n          appointment_date: string\r\n          appointment_time: string\r\n          duration: number\r\n          type: 'consultation' | 'follow_up' | 'emergency' | 'telemedicine'\r\n          status: 'scheduled' | 'confirmed' | 'in_progress' | 'completed' | 'cancelled' | 'no_show'\r\n          reason: string\r\n          notes: string | null\r\n          prescription_id: string | null\r\n          fee: number | null\r\n          payment_status: 'pending' | 'paid' | 'refunded'\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          patient_id: string\r\n          doctor_id: string\r\n          hospital_id?: string | null\r\n          appointment_date: string\r\n          appointment_time: string\r\n          duration?: number\r\n          type: 'consultation' | 'follow_up' | 'emergency' | 'telemedicine'\r\n          status?: 'scheduled' | 'confirmed' | 'in_progress' | 'completed' | 'cancelled' | 'no_show'\r\n          reason: string\r\n          notes?: string | null\r\n          prescription_id?: string | null\r\n          fee?: number | null\r\n          payment_status?: 'pending' | 'paid' | 'refunded'\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          patient_id?: string\r\n          doctor_id?: string\r\n          hospital_id?: string | null\r\n          appointment_date?: string\r\n          appointment_time?: string\r\n          duration?: number\r\n          type?: 'consultation' | 'follow_up' | 'emergency' | 'telemedicine'\r\n          status?: 'scheduled' | 'confirmed' | 'in_progress' | 'completed' | 'cancelled' | 'no_show'\r\n          reason?: string\r\n          notes?: string | null\r\n          prescription_id?: string | null\r\n          fee?: number | null\r\n          payment_status?: 'pending' | 'paid' | 'refunded'\r\n          updated_at?: string\r\n        }\r\n      }\r\n      prescriptions: {\r\n        Row: {\r\n          id: string\r\n          doctor_id: string\r\n          patient_id: string\r\n          appointment_id: string | null\r\n          medications: any[]\r\n          instructions: string | null\r\n          valid_until: string\r\n          status: 'active' | 'expired' | 'cancelled'\r\n          created_at: string\r\n          updated_at: string\r\n        }\r\n        Insert: {\r\n          id?: string\r\n          doctor_id: string\r\n          patient_id: string\r\n          appointment_id?: string | null\r\n          medications: any[]\r\n          instructions?: string | null\r\n          valid_until: string\r\n          status?: 'active' | 'expired' | 'cancelled'\r\n          created_at?: string\r\n          updated_at?: string\r\n        }\r\n        Update: {\r\n          id?: string\r\n          doctor_id?: string\r\n          patient_id?: string\r\n          appointment_id?: string | null\r\n          medications?: any[]\r\n          instructions?: string | null\r\n          valid_until?: string\r\n          status?: 'active' | 'expired' | 'cancelled'\r\n          updated_at?: string\r\n        }\r\n      }\r\n    }\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uNAAY,EAAC,aAAa"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///D:/MediSaathi/lib/services/user.service.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase'\r\nimport type { Database } from '@/lib/supabase'\r\n\r\ntype User = Database['public']['Tables']['users']['Row']\r\ntype UserInsert = Database['public']['Tables']['users']['Insert']\r\ntype UserUpdate = Database['public']['Tables']['users']['Update']\r\n\r\nexport class UserService {\r\n  // Get current user profile\r\n  static async getCurrentUser() {\r\n    try {\r\n      const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n      if (authError || !user) throw authError\r\n\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', user.id)\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Create user profile after auth signup\r\n  static async createUserProfile(userData: UserInsert) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .insert(userData)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Update user profile\r\n  static async updateUserProfile(userId: string, updates: UserUpdate) {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .update(updates)\r\n        .eq('id', userId)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Get users by type (for admin purposes)\r\n  static async getUsersByType(userType: 'patient' | 'doctor' | 'hospital') {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('user_type', userType)\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Search users\r\n  static async searchUsers(query: string, userType?: string) {\r\n    try {\r\n      let queryBuilder = supabase\r\n        .from('users')\r\n        .select('*')\r\n        .or(`full_name.ilike.%${query}%, email.ilike.%${query}%`)\r\n\r\n      if (userType) {\r\n        queryBuilder = queryBuilder.eq('user_type', userType)\r\n      }\r\n\r\n      const { data, error } = await queryBuilder\r\n        .order('created_at', { ascending: false })\r\n        .limit(20)\r\n\r\n      if (error) throw error\r\n      return { data, error: null }\r\n    } catch (error) {\r\n      return { data: null, error }\r\n    }\r\n  }\r\n\r\n  // Delete user account\r\n  static async deleteUser(userId: string) {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('users')\r\n        .delete()\r\n        .eq('id', userId)\r\n\r\n      if (error) throw error\r\n      return { error: null }\r\n    } catch (error) {\r\n      return { error }\r\n    }\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAOO,MAAM;IACX,2BAA2B;IAC3B,aAAa,iBAAiB;QAC5B,IAAI;YACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,2IAAQ,CAAC,IAAI,CAAC,OAAO;YACxE,IAAI,aAAa,CAAC,MAAM,MAAM;YAE9B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE;gBAAM,OAAO;YAAK;QAC7B,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,wCAAwC;IACxC,aAAa,kBAAkB,QAAoB,EAAE;QACnD,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,UACP,MAAM,GACN,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE;gBAAM,OAAO;YAAK;QAC7B,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,sBAAsB;IACtB,aAAa,kBAAkB,MAAc,EAAE,OAAmB,EAAE;QAClE,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM,QACT,MAAM,GACN,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE;gBAAM,OAAO;YAAK;QAC7B,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,yCAAyC;IACzC,aAAa,eAAe,QAA2C,EAAE;QACvE,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,UAChB,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE;gBAAM,OAAO;YAAK;QAC7B,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,eAAe;IACf,aAAa,YAAY,KAAa,EAAE,QAAiB,EAAE;QACzD,IAAI;YACF,IAAI,eAAe,2IAAQ,CACxB,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,CAAC,iBAAiB,EAAE,MAAM,gBAAgB,EAAE,MAAM,CAAC,CAAC;YAE1D,IAAI,UAAU;gBACZ,eAAe,aAAa,EAAE,CAAC,aAAa;YAC9C;YAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,aAC3B,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM,GACvC,KAAK,CAAC;YAET,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE;gBAAM,OAAO;YAAK;QAC7B,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,sBAAsB;IACtB,aAAa,WAAW,MAAc,EAAE;QACtC,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,GACN,EAAE,CAAC,MAAM;YAEZ,IAAI,OAAO,MAAM;YACjB,OAAO;gBAAE,OAAO;YAAK;QACvB,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE;YAAM;QACjB;IACF;AACF"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///D:/MediSaathi/app/api/users/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { UserService } from '@/lib/services/user.service'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const action = searchParams.get('action')\r\n    const userType = searchParams.get('type')\r\n    const query = searchParams.get('q')\r\n\r\n    switch (action) {\r\n      case 'profile':\r\n        const { data, error } = await UserService.getCurrentUser()\r\n        if (error) throw error\r\n        return NextResponse.json({ success: true, data })\r\n\r\n      case 'search':\r\n        if (!query) {\r\n          return NextResponse.json({ success: false, error: 'Query parameter required' }, { status: 400 })\r\n        }\r\n        const searchResult = await UserService.searchUsers(query, userType || undefined)\r\n        if (searchResult.error) throw searchResult.error\r\n        return NextResponse.json({ success: true, data: searchResult.data })\r\n\r\n      case 'by-type':\r\n        if (!userType || !['patient', 'doctor', 'hospital'].includes(userType)) {\r\n          return NextResponse.json({ success: false, error: 'Valid user type required' }, { status: 400 })\r\n        }\r\n        const typeResult = await UserService.getUsersByType(userType as 'patient' | 'doctor' | 'hospital')\r\n        if (typeResult.error) throw typeResult.error\r\n        return NextResponse.json({ success: true, data: typeResult.data })\r\n\r\n      default:\r\n        return NextResponse.json({ success: false, error: 'Invalid action' }, { status: 400 })\r\n    }\r\n  } catch (error) {\r\n    console.error('User API Error:', error)\r\n    return NextResponse.json({ success: false, error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { action, userData } = body\r\n\r\n    switch (action) {\r\n      case 'signup':\r\n        // Create auth user first\r\n        const { data: authData, error: authError } = await supabase.auth.signUp({\r\n          email: userData.email,\r\n          password: userData.password,\r\n        })\r\n\r\n        if (authError) throw authError\r\n        if (!authData.user) throw new Error('Failed to create user')\r\n\r\n        // Create user profile\r\n        const profileData = {\r\n          id: authData.user.id,\r\n          email: userData.email,\r\n          full_name: userData.full_name,\r\n          user_type: userData.user_type,\r\n          phone: userData.phone || null,\r\n          date_of_birth: userData.date_of_birth || null,\r\n          gender: userData.gender || null,\r\n          address: userData.address || null,\r\n        }\r\n\r\n        const { data: profile, error: profileError } = await UserService.createUserProfile(profileData)\r\n        if (profileError) throw profileError\r\n\r\n        return NextResponse.json({ \r\n          success: true, \r\n          data: { user: authData.user, profile },\r\n          message: 'User created successfully' \r\n        })\r\n\r\n      case 'signin':\r\n        const { data: signInData, error: signInError } = await supabase.auth.signInWithPassword({\r\n          email: userData.email,\r\n          password: userData.password,\r\n        })\r\n\r\n        if (signInError) throw signInError\r\n\r\n        // Get user profile\r\n        const { data: userProfile } = await UserService.getCurrentUser()\r\n        \r\n        return NextResponse.json({ \r\n          success: true, \r\n          data: { user: signInData.user, profile: userProfile },\r\n          message: 'Signed in successfully' \r\n        })\r\n\r\n      case 'signout':\r\n        const { error: signOutError } = await supabase.auth.signOut()\r\n        if (signOutError) throw signOutError\r\n\r\n        return NextResponse.json({ \r\n          success: true, \r\n          message: 'Signed out successfully' \r\n        })\r\n\r\n      default:\r\n        return NextResponse.json({ success: false, error: 'Invalid action' }, { status: 400 })\r\n    }\r\n  } catch (error) {\r\n    console.error('User Auth Error:', error)\r\n    return NextResponse.json({ \r\n      success: false, \r\n      error: error instanceof Error ? error.message : 'Authentication failed' \r\n    }, { status: 400 })\r\n  }\r\n}\r\n\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { userId, updates } = body\r\n\r\n    if (!userId) {\r\n      return NextResponse.json({ success: false, error: 'User ID required' }, { status: 400 })\r\n    }\r\n\r\n    const { data, error } = await UserService.updateUserProfile(userId, updates)\r\n    if (error) throw error\r\n\r\n    return NextResponse.json({ \r\n      success: true, \r\n      data,\r\n      message: 'Profile updated successfully' \r\n    })\r\n  } catch (error) {\r\n    console.error('User Update Error:', error)\r\n    return NextResponse.json({ success: false, error: 'Failed to update profile' }, { status: 500 })\r\n  }\r\n}\r\n\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const userId = searchParams.get('userId')\r\n\r\n    if (!userId) {\r\n      return NextResponse.json({ success: false, error: 'User ID required' }, { status: 400 })\r\n    }\r\n\r\n    const { error } = await UserService.deleteUser(userId)\r\n    if (error) throw error\r\n\r\n    return NextResponse.json({ \r\n      success: true, \r\n      message: 'User deleted successfully' \r\n    })\r\n  } catch (error) {\r\n    console.error('User Delete Error:', error)\r\n    return NextResponse.json({ success: false, error: 'Failed to delete user' }, { status: 500 })\r\n  }\r\n}"],"names":[],"mappings":"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"}}]
}